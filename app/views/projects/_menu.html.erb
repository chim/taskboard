<div id="taskboard_menu_space">
</div>

<div id="taskboard_menu">

	<a href="#" onClick="collapseMenu();"><%= image_tag 'menu_collapse.png', :border => 0, :style => "float:left;" -%></a>

	<%= link_to image_tag('menu_product_backlog.png', 
			:border => 0, 
			:id => "taskboard_menu_product_backlog_image"), 
		:controller => "backlog", 
		:project => @project.id 
	-%>


	<%= image_tag 'menu_task_add.png' , 
		:border => 0 ,
		:id => 'taskboard_menu_task_add', 
		:class => "task-add" 
	-%>
	<%= draggable_element "taskboard_menu_task_add", :revert => 'true'%>
	
	<div style="float: left">
	<table id="menu_statustags" >
		<%= render :partial => "menu_statustags" %> 
	</table>
	</div>
	<div id="menu_nametags">
		<%= render :partial => "menu_nametags", :locals => { :members => members } %> 
	</div>


	<%= image_tag 'menu_trash.png' , :border => 0, :id => 'trash' -%>
	<%= drop_receiving_element("trash", 
		:accept => "task", 
		:with   => "'task=' + (element.id.split('-').last())", 
		:url => { :action=>:destroy_task}) 
	%>
	<%= drop_receiving_element("trash", 
		:accept => "statustag", 
		:with   => "'statustag=' + (element.id.split('-').last())", 
		:url => { :action=>:destroy_statustag}) 
	%>
	<%= drop_receiving_element("trash", 
		:accept => "nametag", 
		:with   => "'nametag=' + (element.id.split('-').last())", 
		:url => { :action=>:destroy_nametag}) 
	%>
	<%= drop_receiving_element("trash", 
		:accept => "form-add-task"
		) 
	%>

</div>

<div id="taskboard_menu_expand" style="position:absolute; top: 0px; left: 0px; z-index: 9; background: url('/images/menu_collapsed_background.png') left no-repeat transparent; height: 61px;width: 69px;">
	<a href="#" onClick="expandMenu();"><%= image_tag('menu_expand.png', :border => 0, :style => "position: relative; top: 11px; left: 14px;")-%></a>
</div>
<script>
	expandMenu();
	keepDivOnTop("taskboard_menu_expand");
	keepDivOnTop("taskboard_menu");
</script>
